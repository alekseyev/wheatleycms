{% load filetransfers i18n %}

<div class="btn-group">
    <button id="upload-button" class="btn" data-toggle="modal" href="#upload-form"><i class="icon-upload"></i> {% trans "Upload an image" %}</button>
    <button id="gallery-button" class="btn" onclick="show_gallery(); return false"><i class="icon-folder-open"></i> {% trans "Gallery" %}</button>
</div>

<div id="upload-form" class="modal hide fade">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">×</button>
        <h3>{% trans "Upload image" %}</h3>
    </div>    
    <div class="modal-body">
        {{ upload_form }}    
        <div id="upload-progress" class="spinning hide">{% trans "Uploading..." %}</div>
    </div>
    <div class="modal-footer">
        <input type="submit" value="{% trans "Upload" %}" class="btn btn-primary pull-left" id="upload-submit" onclick="start_upload(); return false" disabled="disabled">
        <a href="#" class="btn" data-dismiss="modal">{% trans "Cancel" %}</a>
    </div>
</div>

<div id="image-modal" class="modal hide fade">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">×</button>
        <h3>{% trans "Insert image" %}</h3>
    </div>    
    <div class="modal-body">
        <div class="control-group">
            <div class="controls">
                <img src="" alt="" id="image-modal-thumbnail">
            </div>
        </div>
        <div class="control-group"> 
            <label class="control-label" for="image-modal-caption">{% trans "Caption" %}</label>
            <div class="controls">
                <input type="text" class="input-xlarge" id="image-modal-caption">
            </div>
        </div>
        <div class="control-group"> 
            <label class="control-label" for="image-modal-size">{% trans "Thumbnail size" %}</label>
            <div class="controls">
                <input type="text" class="input-large" id="image-modal-size">
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" onclick="insert_image(); return false" class="btn btn-primary pull-left">{% trans "Insert image" %}</button>
        <button type="button" onclick="insert_thumbnail(); return false" class="btn pull-left">{% trans "Insert thumbnail" %}</button>
        <a href="#" class="btn" data-dismiss="modal">{% trans "Cancel" %}</a>
    </div>
</div>

<div id="gallery" class="modal hide fade">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">×</button>
        <h3>{% trans "Gallery" %}</h3>
    </div>    
    <div class="modal-body">
        <ul class="thumbnails" id="gallery-thumbnails">
        </ul>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">{% trans "Cancel" %}</a>
    </div>
</div>
